!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";var n=a(r(1));function a(t){return t&&t.__esModule?t:{default:t}}var i=(new(a(r(7)).default)).create();if(!window.hasOwnProperty("jQuery"))throw"不包含jQuery不执行";var o=location.href,s=!0,u=!1,c=void 0;try{for(var l,f=n.default[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var h=l.value,d=!0,g=!1,p=void 0;try{for(var v,y=h.match[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var m=v.value;if(i.isMatch(m,o)){h.process();break}}}catch(t){g=!0,p=t}finally{try{!d&&y.return&&y.return()}finally{if(g)throw p}}}}catch(t){u=!0,c=t}finally{try{!s&&f.return&&f.return()}finally{if(u)throw c}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(2)),a=i(r(6));function i(t){return t&&t.__esModule?t:{default:t}}e.default=[n.default,a.default]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(3)),a=o(r(4)),i=o(r(5));function o(t){return t&&t.__esModule?t:{default:t}}e.default={match:["*://tiku.*.cn/testing/exam/paper","*://tiku.*.cn/testing/exam/createSkillPaper"],process:function(){if(0===$("#answers-btn").length){var t=$("<a id='answers-btn' style='background-color: deeppink;' href='javascript:void(0);'\n        class='f14 rest acenter pater'>获 取 答 案</a>");$("#putIn").after(t.on("click",(function(){var t;return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("程序开始执行"),bridge.call("loading","正在执行中..."),confirm("如果执行完毕没有填充答案可能是没有这些题的答案，你确定要获取答案吗？")){e.next=5;break}throw"用户取消获取答案";case 5:if(t=[],$(".sec2.grays pre img").each((function(e,r){t.push({src:$(r).attr("src"),idx:e})})),0!==t.length){e.next=9;break}throw"没有获取到题目";case 9:return console.log("开始获取图片MD5"),e.next=12,regeneratorRuntime.awrap((0,n.default)(t));case 12:return t=e.sent,console.log("获取图片MD5完毕",t),console.log("开始获取题目答案"),e.next=17,regeneratorRuntime.awrap((0,a.default)(t));case 17:t=e.sent,console.log("获取题目答案完毕",t),console.log("开始选择答案"),(0,i.default)(t),console.log("选择答案完毕"),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),alert(e.t0);case 27:return e.prev=27,bridge.call("dismiss"),e.finish(27);case 30:console.log("程序结束");case 31:case"end":return e.stop()}}),null,this,[[0,24,27,30]])}))),bridge.call("toast","注入成功")}}}},function(t,e,r){"use strict";function n(t){return new Promise((function(e,r){var n={url:t.src,method:"get",dataType:"MD5",headers:{"User-Agent":navigator.userAgent,Referer:location.href}};bridge.call("request",JSON.stringify(n),(function(r){(r=JSON.parse(r)).success?e(Object.assign({md5:r.data},t)):e(Object.assign({md5:""},t))}))}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;e.push(n(u))}}catch(t){a=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return Promise.all(e)}},function(t,e,r){"use strict";function n(t){return new Promise((function(e,r){$.ajax({url:"http://starxg.com:8888/bluedird/webview/answer/"+t.md5,timeout:5e3,success:function(r){null!=r.data?e(Object.assign({answers:r.data.split(",")},t)):this.error()},error:function(r){console.log("获取答案失败 "+r),e(Object.assign({answers:[]},t))}})}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;e.push(n(u))}}catch(t){a=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return Promise.all(e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=!0,r=!1,n=void 0;try{for(var a,i=t[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var o=a.value;console.log("选择题目:"+o.idx+",MD5:"+o.md5+",答案:"+JSON.stringify(o.answers));var s=$(".sec.post").eq(o.idx).find("ul.sec2.grays li pre"),u=!0,c=!1,l=void 0;try{for(var f,h=o.answers[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value.toUpperCase().charCodeAt()%65;s.eq(d).click()}}catch(t){c=!0,l=t}finally{try{!u&&h.return&&h.return()}finally{if(c)throw l}}}}catch(t){r=!0,n=t}finally{try{!e&&i.return&&i.return()}finally{if(r)throw n}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="http://tiku.kgc.cn/testing/login";function a(){var t={url:n,method:"get",dataType:"text",headers:{"User-Agent":navigator.userAgent}};return new Promise((function(e,r){bridge.call("request",JSON.stringify(t),(function(t){e()}))}))}function i(){var t={url:"http://tiku.kgc.cn/testing/Kaptcha?2",method:"get",dataType:"blob",headers:{"User-Agent":navigator.userAgent}};return new Promise((function(e,r){bridge.call("request",JSON.stringify(t),(function(t){var n=new Blob([new Uint8Array(JSON.parse(t).data),{type:"image/jpeg;"}]),a=new FileReader;a.onload=function(t){$("#kaptcha").attr("src",t.target.result),e(t.target.result)},a.readAsDataURL(n),a.onerror=function(){r()}}))}))}e.default={match:["*://tiku.*.cn/testing/login"],process:function(){var t=this;bridge.call("toast","注入成功"),$("#userName").val(localStorage.getItem("userName")),$("#userPassword").val(localStorage.getItem("userPassword"));var e=$("#loginForm").off("submit");$("#login").attr("type","button").on("click",(function(){bridge.call("loading","正在登录中...");var t={submit:"登录"},r=!0,a=!1,i=void 0;try{for(var o,s=e.serializeArray()[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;t[u.name]=u.value}}catch(t){a=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}(function(t,e){var r={url:t,method:"post",dataType:"text",data:e,headers:{"User-Agent":navigator.userAgent,Referer:location.href}};return new Promise((function(t,e){bridge.call("request",JSON.stringify(r),(function(r){r=JSON.parse(r);var n=$(r.data).find("#error").text();0===n.trim().length?t():e(n)}))}))})(n,t).then((function(t){localStorage.setItem("userName",$("#userName").val()),localStorage.setItem("userPassword",$("#userPassword").val()),location.reload()})).catch((function(t){$("#verifyCode").val(""),getKaptcha(),alert(t)})).finally((function(){bridge.call("dismiss")}))})),window.getKaptcha=function(){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return bridge.call("clearCookie"),t.next=3,regeneratorRuntime.awrap(a());case 3:return t.next=5,regeneratorRuntime.awrap(i());case 5:case"end":return t.stop()}}),null,t)},getKaptcha(),$("#kaptcha").off("click").on("click",getKaptcha)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(8);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,n,a){i(this,t),this.pathSeparator=e,this.ignoreCase=r,this.matchStart=n,this.trimTokens=a}return n(t,null,[{key:"ASTERISK",get:function(){return"*"}},{key:"QUESTION",get:function(){return"?"}},{key:"BLANK",get:function(){return" "}}]),n(t,[{key:"isMatch",value:function(e,r){if((0,a.isEmpty)(e))return(0,a.isEmpty)(r);if((0,a.isEmpty)(r)&&e.charAt(0)===this.pathSeparator)return!!this.matchStart||(2!==e.length||e.charAt(1)!==t.ASTERISK)&&this.isMatch(e.substring(1),r);var n=e.charAt(0);if(n===t.ASTERISK){if(1===e.length)return(0,a.isEmpty)(r)||r.charAt(0)!==this.pathSeparator&&this.isMatch(e,r.substring(1));if(this.doubleAsteriskMatch(e,r))return!0;for(var i=0;i<r.length;){if(this.isMatch(e.substring(1),r.substring(i)))return!0;i+=1}return this.isMatch(e.substring(1),r.substring(i))}var o=this.skipBlanks(r),s=this.isMatch(e.substring(1),r.substring(o+1));return!(0,a.isEmpty)(r)&&(this.equal(r.charAt(o),n)||n===t.QUESTION)&&s}},{key:"doubleAsteriskMatch",value:function(e,r){return e.charAt(1)===t.ASTERISK&&e.length>2&&this.isMatch(e.substring(3),r)}},{key:"skipBlanks",value:function(e){var r=0;if(this.trimTokens)for(;!(0,a.isEmpty)(e)&&r<e.length&&e.charAt(r)===t.BLANK;)r+=1;return r}},{key:"equal",value:function(t,e){var r=t===e;return this.ignoreCase&&(r=t.toLowerCase()===e.toLowerCase()),r}}]),t}(),s=function(){function t(){i(this,t),this.pathSeparator="/",this.ignoreCase=!1,this.matchStart=!1,this.trimTokens=!1}return n(t,[{key:"withPathSeparator",value:function(t){return this.pathSeparator=t,this}},{key:"withIgnoreCase",value:function(){return this.ignoreCase=!0,this}},{key:"withMatchStart",value:function(){return this.matchStart=!0,this}},{key:"withTrimTokens",value:function(){return this.trimTokens=!0,this}},{key:"create",value:function(){return new o(this.pathSeparator,this.ignoreCase,this.matchStart,this.trimTokens)}}]),t}();e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=function(t){return null==t||"string"==typeof t&&0===t.length}}]);